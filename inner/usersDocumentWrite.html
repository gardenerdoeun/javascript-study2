<script>

const sessionStorageGet = sessionStorage.getItem('users'); // 배열 변수명은 복수로 작명하기
const usersLogical = sessionStorageGet || '[]';
const users = JSON.parse(usersLogical);
 
//리팩토링 하기
const usersSet = function(){
    const usersSet = JSON.stringify(users);
    sessionStorage.setItem('users', usersSet);
    window.location.reload();
}


// Create
const usersCreate = function (user){
    users.push(user);
    usersSet();
    return 'Create';
}; 

// Read
const usersRead = function (){
    for(let index in users){
        document.writeln(users[index]); //index 숫자를 문자형으로 등록해도 인식함 ex)users['1'];
    }
    return users;
}; 

// Delete
const usersDelete = function(index){
    users.splice(index, 1);
    usersSet();
    return 'Deleted';
}; 

// Update
const usersUpdate = function(index, user){
    users[index] = user;
    usersSet();
    return 'Updated';
}; 
usersRead();

// 로그아웃 시 localStorage.removeItem - 사용 
</script>